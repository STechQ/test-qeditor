{"version":3,"file":"src_components_quick_LiveConnection_vue.js","mappings":"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","sources":["webpack://websdk/./src/components/quick/LiveConnection.vue?2e05","webpack://websdk/./src/components/quick/LiveConnection.vue","webpack://websdk/./src/components/quick/LiveConnection.vue?3db0","webpack://websdk/./src/components/quick/LiveConnection.vue?2fdf","webpack://websdk/./src/components/quick/LiveConnection.vue?9b41"],"sourcesContent":["\n\nimport { Logger, LogType } from \"../../../../../common/shrimp/helpers/logger\";\nimport { TypeHelper } from \"../../../../../common/shrimp/helpers/typeHelper\";\nimport Vue from \"vue\";\nimport { GlobalMethodsImpl } from '../../implementation/GlobalMethodsImpl';\nimport { WebSDK } from '../../WebSDK';\nexport default Vue.extend({\n  name: \"LiveConnection\",\n  props: {\n    url: {\n      type: String,\n      default: \"\"\n    },\n    secure: {\n      type: Boolean,\n      default: false\n    },\n    message: {\n      type: [Object, String],\n      default: \"\"\n    },\n    urlParams: {\n      type: Object,\n      default: () => { }\n    },\n    enableIamAuth: {\n      type: Boolean,\n      default: false\n    },\n    sendQueueMessage: {\n      type: Boolean,\n      default: true\n    },\n    autoConnect: {\n      type: Boolean,\n      default: false\n    },\n    reconnect: {\n      type: Boolean,\n      default: false\n    },\n    reconnectInterval: {\n      type: Number,\n      default: 60\n    },\n    reconnectBackOff: {\n      type: Boolean,\n      default: false\n    },\n    _renderingProps: {\n      type: Object,\n      default: {\n        isEditMode: {\n          type: Boolean,\n          default: false\n        }\n      }\n    }\n  },\n  data() {\n\n    this.$props.sendQueueMessage = this.$props.sendQueueMessage !== false;\n    return {\n      typeHelper: new TypeHelper(),\n      seqErrCount: 0,\n      connection: { readyState: WebSocket.CLOSED, close: () => { } } as WebSocket,\n      urlData: this.$props.url,\n      urlParamsData: this.$props.urlParams,\n      messageData: this.$props.message,\n      messageRequestList: [] as Function[],\n      timerID: 0 as number | undefined,\n      reconectTryCount: 0,\n      reason: \"\" as string,\n      onConnectionReason: {\n        connectionError: \"ConnectionError\", \n        connectionClose: \"ConnectionClose\",\n        userSend: \"UserSend\",\n        autoConnect: \"AutoConnect\"\n      }\n    }\n  },\n  methods: {    \n    Send(message?: Object | string, urlParams?: Object){\n      let self = <any>this;\n      let connectionReason = self.onConnectionReason.userSend;\n      self.SendMessage(connectionReason, message, urlParams); \n    },\n    SendMessage(connectionReason?: String, message?: Object | string, urlParams?: Object) { \n      if (message) {\n        this.messageData = message;\n      }\n\n      if(this.messageData ){\n        let messageJson = \"\";\n        if (this.typeHelper.isString(this.messageData)) {\n          messageJson = this.messageData;\n        } else {\n          messageJson = JSON.stringify(this.messageData);\n        }\n\n        var sendMessage = () => {\n          this.connection.send(messageJson);\n        };\n\n        this._connect(connectionReason, sendMessage, urlParams); \n      }\n      else{\n        this._connect(connectionReason); \n      }\n    },\n    Close() {\n      if (this._renderingProps.isEditMode) {\n        return;\n      }\n      this.connection.close();\n      const minLogType = GlobalMethodsImpl.settingsWrapper.settings.minEngineLogLevel ? LogType[GlobalMethodsImpl.settingsWrapper.settings.minEngineLogLevel] : undefined\n      Logger.Log({ logMessage: `[ LiveConnection has closed ][Url: ${this.urlData} ] `, minEngineLogLevel: minLogType });\n    },\n    _connect(connectionReason?: String, sendMessage?: () => void, urlParams?: Object) { \n      var self = <any>this;\n      if (self._renderingProps.isEditMode) {\n        return;\n      }\n\n      switch (this.connection.readyState) {\n        case WebSocket.OPEN:\n          sendMessage && sendMessage();\n          return;\n        case WebSocket.CLOSED:\n          this.urlParamsData = urlParams || this.urlParamsData;\n          break;\n        case WebSocket.CLOSING:\n          return;\n        case WebSocket.CONNECTING:\n          sendMessage && this.messageRequestList.push(sendMessage);\n          return;\n      }\n\n\n      self._regulateUrl(); \n      self.connection = new WebSocket(self.urlData);      \n      self.reason = connectionReason;\n      self.connection.onopen = async function (evt) {\n      self.seqErrCount = 0;\n\n        if(self.enableIamAuth){\n          await WebSDK.getPlateauIAM()?.refreshPromise();\n          var iamToken = WebSDK.getPlateauIAM()?.getToken();\n          if (iamToken) {\n            self.connection.send(JSON.stringify({ token: iamToken }));\n          }\n        }\n\n\n        self.$emit('onConnectionOpen', self.reason);\n        sendMessage && sendMessage();\n\n        if (self.sendQueueMessage) {\n          self.messageRequestList && self.messageRequestList.map((cbFunc) => cbFunc());\n        }\n\n        this.reconectTryCount = 0;\n\n      };\n\n      self.connection.onerror = function (evt) {\n        let connectionError = self.onConnectionReason.connectionError;\n        self.seqErrCount++;\n        self.$emit('onError', evt, self.seqErrCount);\n\n        if (self.connection.readyState == WebSocket.CLOSED && self.reconnect == true) {\n          self._reConnect(connectionError);\n        }\n      };\n\n      self.connection.onmessage = async function (evt) {\n        if (self.enableIamAuth) {\n          await WebSDK.getPlateauIAM()?.refreshPromise();\n        }\n        let messageJson = \"\";\n        if (self.typeHelper.isJsonString(evt.data)) {\n          messageJson = JSON.parse(evt.data);\n        } else {\n          messageJson = evt.data;\n        }\n\n        self.$emit('onMessageReceived', messageJson);\n      };\n\n        self.connection.onclose = function (e) {\n        let connectionClose = self.onConnectionReason.connectionClose;\n        self.$emit('onClose', e);\n        // TO-DO: delete self.connection; or self.connection = null; to prevent the browser to build up a pile of unused connection objects. (Garbage collector?) \n        if(self.reconnect == true) {\n          self._reConnect(connectionClose);\n        } \n      };\n\n    },\n    _regulateUrl() {\n      this.urlData = this.url;\n      if (this.urlData.startsWith('ws') && this.secure == undefined) {\n        this.urlData;\n      }\n      else {\n        if (this.urlData.startsWith('ws')) {\n          this.urlData = this.urlData.split('//')[1];\n        }\n        else if (this.urlData.startsWith('/')) {\n          this.urlData = this.urlData.substring(1);\n        }\n\n        let wsUrlPrefix = \"ws://\";\n        if (this.secure) {\n          wsUrlPrefix = 'wss://';\n        }\n        this.urlData = wsUrlPrefix.concat(this.urlData)\n      }\n      this._setUrlParams();\n    },\n    _setUrlParams() {\n      for (const paramKey in this.urlParams) {\n        this.urlData = this.urlData.replace('#' + paramKey + '#', this.urlParams[paramKey]);\n      }\n    },\n    _calculateReconnectInterval(intervalCounter: number) {\n      let calculatedInterval = intervalCounter;\n\n      if (this.reconnectBackOff) {\n        const fibonacciArray = [1, 2, 3, 5, 8, 13, 21];\n        let intervalUnit = intervalCounter / 5\n        let fibonacciRatio = this.reconectTryCount > fibonacciArray.length ? fibonacciArray[fibonacciArray.length - 1] : fibonacciArray[this.reconectTryCount - 1]\n        calculatedInterval = Math.round(intervalUnit * fibonacciRatio);\n      }\n      return calculatedInterval;\n    },\n    _reConnect(reconnectReason?: String) {\n      this.reconectTryCount++;\n      const timeoutCounter = this._calculateReconnectInterval(this.reconnectInterval)\n\n      this.timerID = window.setTimeout(() => {\n        delete this.timerID;\n        \n         if(!this.sendQueueMessage){              \n           this.messageData = undefined;\n         }\n         this.SendMessage(reconnectReason); \n      }, timeoutCounter * 1000);\n    }\n  },\n  mounted() {\n    if (this.autoConnect) {\n      let self = <any>this;\n      let connectionReason = self.onConnectionReason.autoConnect;\n      this._connect(connectionReason); \n    }\n  },\n  destroyed() {\n    this.Close();\n  },\n  computed: {\n    message: {\n      get: function () {\n        let self = <any>this;\n        return self.messageData\n      },\n      set: function (newMsg) {\n        let self = <any>this;\n        self.messageData = newMsg;\n      }\n    },\n    urlParams: {\n      get: function () {\n        let self = <any>this;\n        return self.urlParamsData\n      },\n      set: function (newParams) {\n        let self = <any>this;\n        self.urlParamsData = newParams;\n      }\n    }\n  }\n})\n","import { render, staticRenderFns } from \"./LiveConnection.vue?vue&type=template&id=0fc0f108&\"\nimport script from \"./LiveConnection.vue?vue&type=script&lang=ts&\"\nexport * from \"./LiveConnection.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/quick/quick/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0fc0f108')) {\n      api.createRecord('0fc0f108', component.options)\n    } else {\n      api.reload('0fc0f108', component.options)\n    }\n    module.hot.accept(\"./LiveConnection.vue?vue&type=template&id=0fc0f108&\", function () {\n      api.rerender('0fc0f108', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/quick/LiveConnection.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveConnection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveConnection.vue?vue&type=script&lang=ts&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveConnection.vue?vue&type=template&id=0fc0f108&\"","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\")\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"names":[],"sourceRoot":""}