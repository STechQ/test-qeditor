{"version":3,"file":"websdk.js","mappings":"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C;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCxCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;;;;;WCrFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIwC;AACkE;AAGV;AAC5B;AACG;AAGvE;IAKI,mBAAY,SAA0B,EAAE,QAAmB,EAAE,UAAuB;QAChF,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IACjC,CAAC;IACD,wBAAI,GAAJ,UAAK,SAAkB,EAAE,IAA0B;QAC/C,IAAI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","sources":["webpack://websdk/webpack/universalModuleDefinition","webpack://websdk/../../common/shrimp/helpers/lazyLoader.ts","webpack://websdk/../../common/shrimp/helpers/qjsonParser/QJsonContentParser.ts","webpack://websdk/../../common/shrimp/helpers/qjsonParser/QJsonExtractHelper.ts","webpack://websdk/../../common/shrimp/helpers/qjsonParser/QJsonParserV2.ts","webpack://websdk/../../common/shrimp/helpers/urlHelper.ts","webpack://websdk/./build/legacy.ts","webpack://websdk/./src/managers/LivePreviewManager.ts","webpack://websdk/../../node_modules/@stechquick/algae/src/helpers/createPromiseData.ts","webpack://websdk/../../node_modules/@stechquick/algae/src/helpers/importHelper.ts","webpack://websdk/plateau-comm/webpack/universalModuleDefinition","webpack://websdk/plateau-comm/webpack/bootstrap","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/arrayHelper.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/bulkManager.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/catcher.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/cryptoHelper.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/eventBus.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/frameCommunicator.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/hook.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/logger.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/singularizer.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/stringHelper.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/webSocket/structuredSocket.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/helpers/windowHelper.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/interfaces/ComponentInterfaces/ILogger.ts","webpack://websdk/plateau-comm//home/runner/work/quick/quick/common/shrimp/interfaces/IPromiseData.ts","webpack://websdk/plateau-comm/./src/PlateauMessaging.ts","webpack://websdk/webpack/bootstrap","webpack://websdk/webpack/runtime/amd options","webpack://websdk/webpack/runtime/compat get default export","webpack://websdk/webpack/runtime/define property getters","webpack://websdk/webpack/runtime/ensure chunk","webpack://websdk/webpack/runtime/get javascript chunk filename","webpack://websdk/webpack/runtime/global","webpack://websdk/webpack/runtime/hasOwnProperty shorthand","webpack://websdk/webpack/runtime/load script","webpack://websdk/webpack/runtime/make namespace object","webpack://websdk/webpack/runtime/node module decorator","webpack://websdk/webpack/runtime/publicPath","webpack://websdk/webpack/runtime/jsonp chunk loading","webpack://websdk/webpack/runtime/nonce","webpack://websdk/./websdk.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"websdk\"] = factory();\n\telse\n\t\troot[\"websdk\"] = factory();\n})(this, () => {\nreturn ","//IE11 fetch pollyfill https://github.com/github/fetch -> npm: whatwg-fetch\n//IE11 promise pollyfill https://www.npmjs.com/package/promise-polyfill -> npm: promise-polyfill\ninterface ModuleObject<exportingInterface> {\n    exports?: exportingInterface\n}\n\nexport class LazyLoader {\n\n    static LoadModule<exportingInterface>(moduleBody: string) {\n        const moduleObject: ModuleObject<exportingInterface> = {};\n        const module = new Function(\"module\", \"exports\", moduleBody);\n        const temp_export = {};\n        module(moduleObject, temp_export);\n        const exported = moduleObject.exports;\n        return exported;\n    }\n\n    static FetchModuleBody(url: string) {\n        return new Promise<{ body: string, status: number }>((res, rej) => fetch(url).then(response => response.text().then(body => res({ body, status: response.status })).catch(rej)).catch(rej));\n    }\n}","export class QJsonContentParser{\n    public static ParseQJsonContent(jsonString: string) {\n        let json: string = jsonString;\n        if (jsonString.indexOf(\"let pjson =\") > -1) {\n            let jsonSplitted = jsonString.split(\"let pjson =\");\n            jsonSplitted = jsonSplitted[1].split(';\\nexport')[0].split(';\\r\\nexport');\n            json = jsonSplitted[0];\n        } else if (json.indexOf(\"rally_microUI\") > -1) {\n            const registerIndex = json.indexOf(\"registerQJson\");\n            const jsonStartIndex = json.indexOf(\",\", registerIndex) + 1;\n    \n            json = json.substring(jsonStartIndex, json.length - 2);\n        }\n    \n        return JSON.parse(json);\n    }\n}","import { QJsonParserV2, removeCR } from \"./QJsonParserV2\";\nimport { IQJsonParser } from \"./IQJsonParser\";\nimport { QJsonContentParser } from \"./QJsonContentParser\";\n\n\nexport class QJsonExtractHelper {\n    \n    public static qJsonExtractor(qjsonData: string | { qjson: string }) {\n        const jsonString = QJsonExtractHelper.qJsonMediumDecider(qjsonData);\n        \n        if (jsonString.startsWith(\"qjson-\")) {\n            let version = removeCR(jsonString.substring(\"qjson-\".length, jsonString.indexOf(\"\\n\")));\n            return parsers[version].Parse(jsonString);\n        }\n\n        return QJsonExtractHelper.ParseQJsonContent(jsonString);\n    }\n\n\n    private static qJsonMediumDecider(qjsonData: string | { qjson: string }): string {\n        if (typeof qjsonData == \"string\") { //rally | symphony\n            return qjsonData.startsWith('{\"qjson\":\"') ? JSON.parse(qjsonData).qjson : qjsonData; // symphony : other\n        } else {\n            const qjsonString = JSON.stringify(qjsonData);\n            return qjsonData.qjson || qjsonString; //symphony & websdk.axios\n        }\n    }\n\n    private static ParseQJsonContent(jsonString: string) {\n        return QJsonContentParser.ParseQJsonContent(jsonString);\n    }\n}\n\nconst parsers: Record<string, IQJsonParser> = { v2: new QJsonParserV2() };","//////////////////////////////////SAMPLE V2 QJSON\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n/**\n * @see \\test\\qjsonV2Tests.spec.ts\n */\n//\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\SAMPLE V2 QJSON//////////////////////////////////\n\nimport { IQJSon } from \"../../interfaces/ComponentInterfaces/IQJson\";\nimport { IQJsonParser } from \"./IQJsonParser\";\nimport { QJsonContentParser } from \"./QJsonContentParser\";\n\ntype QJsonFileHeaderTypes = \"source\" | \"compiled\" | \"qjson\";\n\ninterface QJsonFileHeaders extends Record<string, string | undefined> {\n    type: QJsonFileHeaderTypes;\n    name: string;\n}\n\nclass QJsonParserV2 implements IQJsonParser {\n    private static boundary = \"-------------------\" + \"QJSONFileBoundary\" + \"-----------------------------\";\n    public static headerPrefix = \"qjson-\";\n\n    public static QJsonBodyToString(qjson: IQJSon, unformatQjson?: boolean) {\n        return \"let pjson = \" +\n           ( unformatQjson == true ? JSON.stringify(qjson) : JSON.stringify(qjson, null, '\\t') ) +\n            \";\\r\\n\" +\n            \"export default pjson\";\n    }\n\n\n    public Serialize(qjson: IQJSon) {\n        const bodundary = `${QJsonParserV2.boundary}\\r\\n`;\n        const header = `${QJsonParserV2.headerPrefix}v2\\r\\nboundary: ${bodundary}\\r\\n${bodundary}`;\n        const serializeFile = (fileName: string, type: QJsonFileHeaderTypes, fileBody: string) => `name: ${fileName}\\r\\ntype: ${type}\\r\\n\\r\\n${fileBody}`;\n        const files = qjson.files;\n        const cFiles = qjson.cFiles;\n        let qjsonFile;\n        try { qjson.files = undefined; qjson.cFiles = undefined; qjsonFile = serializeFile(\"qjson\", \"qjson\", QJsonParserV2.QJsonBodyToString(qjson)); }\n        finally { qjson.files = files; qjson.cFiles = cFiles } // atomic\n        const fileItems = files ? bodundary + Object.keys(files).map(fileName => serializeFile(fileName, \"source\", files[fileName])).join(bodundary) : \"\";\n        const cFileItems = cFiles ? bodundary + Object.keys(cFiles).map(fileName => serializeFile(fileName, \"compiled\", cFiles[fileName])).join(bodundary) : \"\";\n        return header + qjsonFile + fileItems + cFileItems;\n    }\n\n    public Parse(jsonString: string) {\n        let curLine = this.nextLine(jsonString, 0);\n\n        let fileHeaders = this.extractHeaders(jsonString, curLine.lastIndex);\n        const boundary = fileHeaders.headers.boundary!;\n        let lastIndex = fileHeaders.lastIndex;\n\n        const files: Record<string, { headers: QJsonFileHeaders, content: string }> = {};\n        const cFiles: typeof files = {};\n        do {\n            const section = this.getSection(jsonString, boundary, lastIndex);\n            const targetFiles = section.headers.type == \"compiled\" ? cFiles : files;\n            targetFiles[section.headers.name!] = { headers: section.headers, content: section.section };\n            lastIndex = section.lastIndex;\n        } while (lastIndex != -1);\n\n        const qjson: IQJSon = QJsonContentParser.ParseQJsonContent(files[\"qjson\"].content);\n        delete files.qjson;\n\n        const qjsonFiles: typeof qjson.files = qjson.files = {};\n        const qjsonCFiles: typeof qjson.cFiles = qjson.cFiles = {};\n        Object.keys(files).forEach(fileName => qjsonFiles[fileName] = files[fileName].content);\n        Object.keys(cFiles).forEach(fileName => qjsonCFiles[fileName] = cFiles[fileName].content);\n        return qjson;\n    }\n\n    private getSection(str: string, boundary: string, lastIndex: number): { headers: QJsonFileHeaders; section: string; lastIndex: number; } {\n        let headers = this.extractHeaders(str, lastIndex);\n        const section = this.getTillBoundary(str, boundary, headers.lastIndex);\n        return { headers: headers.headers, section: section.section, lastIndex: section.lastIndex };\n    }\n\n    private getTillBoundary(str: string, boundary: string, lastIndex: number): { section: string, lastIndex: number } {\n        const nextBoundaryIndex = str.indexOf(boundary, lastIndex);\n        if (nextBoundaryIndex == -1) {\n            return { section: str.substring(lastIndex), lastIndex: -1 };\n        }\n        return { section: str.substring(lastIndex, nextBoundaryIndex), lastIndex: nextBoundaryIndex + boundary.length + 1 };\n    }\n    private extractHeaders(str: string, lastIndex: number) {\n        const headersBucket: Record<string, string | undefined> = {};\n        let curLine = { line: \"\", lastIndex };\n        do {\n            curLine = this.nextLine(str, curLine.lastIndex);\n            if (!curLine.line) { break; } // headers section end\n\n            const lineData = this.parseLine(curLine.line);\n            if (!lineData) { continue; } // line is not parsable skip\n\n            headersBucket[lineData.key] = lineData.value;\n        } while (curLine.lastIndex != -1);\n\n        return { headers: headersBucket as QJsonFileHeaders, lastIndex: curLine.lastIndex };\n    }\n\n\n\n    private parseLine(line: string) {\n        const commaIndex = line.indexOf(\":\");\n        if (commaIndex == -1) { return undefined; }\n\n        return { key: line.substring(0, commaIndex).trim(), value: line.substring(commaIndex + 1).trim() };\n    }\n\n    private nextLine(str: string, lastIndex: number): { line: string, lastIndex: number } {\n        const lineEnd = str.indexOf(\"\\n\", lastIndex);\n        let line = removeCR(str.substring(lastIndex, lineEnd == -1 ? undefined : lineEnd));\n        return { line, lastIndex: lineEnd + 1 || -1 };\n    }\n}\n\nfunction removeCR(str: string) {\n    return str.endsWith(\"\\r\") ? str.substring(0, str.length - 1) : str;\n}\n\nexport { QJsonParserV2, removeCR };","const src = (document.currentScript as HTMLScriptElement).src;\nconst pathRoot = src.substring(0, src.lastIndexOf(\"/\"));\nexport class UrlHelper{\n    public static getScriptRoot() {\n        return pathRoot;\n    }\n    public static concatUrl(url1: string, url2: string) {\n        return (url1.endsWith(\"/\") ? url1 : url1 + \"/\") + (url2.startsWith(\"/\") ? url2.substring(1) : url2);\n    }\n    public static IsDirectUrl(url: string) {\n        return url.startsWith(\"http:\") || url.startsWith(\"https:\") || url.startsWith(\"blob:\");\n    }\n    public static GetDomain(urlString: string){\n        let url: {hostname: string, port: string, search: string, pathname: string, protocol: string};\n        try{\n            url = new URL(urlString);\n        }catch(ex){\n            const a = document.createElement(\"a\");\n            a.href = urlString;\n            url = a;\n        }\n        return url.protocol + \"//\" + url.hostname + (url.port ? \":\" + url.port : \"\");\n    }\n    public static ParseQuery(queryString: string | undefined) {\n        var query:Record<string, Array<string> | undefined> = {};\n        if (!queryString) { return query; }\n\n        var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n        for (var i = 0; i < pairs.length; i++) {\n            var pair = pairs[i].split('=');\n            const curKey = decodeURIComponent(pair[0]);\n            let curItem = query[curKey];\n            if (!curItem){\n                curItem = [];\n                query[curKey] = curItem;\n            }\n            curItem.push(decodeURIComponent(pair[1] || ''));\n        }\n        return query;\n    }\n}","import { UrlHelper } from \"../../../common/shrimp/helpers/urlHelper\";\nimport { IContainerServices } from \"../../../common/shrimp/interfaces/quick/IContainerServices\";\nimport { IWebSDKSettings } from \"../../../common/shrimp/interfaces/quick/IWebSDK\";\n\nexport class Legacy {\n\n    public static migrateLegacySettings(settings: any): IWebSDKSettings {\n\n        /* \n        csspath -> cssPath\n        domainURL, urlprefix  ->  qjsonURLPrefix\n        RegionalDefinition  ->  regionalDefinition\n        DomainModuleList -> domainModuleList\n        Backend -> backendInf\n        PredefinedBackendHeaders -> backendInf.PredefinedBackendHeaders\n        HeaderExceptionList -> backendInf.HeaderExceptionList\n        Header -> backendInf.Header\n        backendInf.singleTab -> singleTab\n        */\n\n        const legacySettingFields: Array<{ oldField: string, newField: string, log: string }> = [\n            { oldField: \"csspath\", newField: \"cssPath\", log: \"legacy Settings.yaml. change csspath -> cssPath\" },\n            { oldField: \"domainURL\", newField: \"qjsonURLPrefix\", log: \"legacy Settings.yaml. change domainURL -> qjsonURLPrefix\" },\n            { oldField: \"urlprefix\", newField: \"qjsonURLPrefix\", log: \"legacy Settings.yaml. change urlprefix -> qjsonURLPrefix\" },\n            { oldField: \"RegionalDefinition\", newField: \"regionalDefinition\", log: \"legacy Settings.yaml. change RegionalDefinition -> regionalDefinition\" },\n            { oldField: \"DomainModuleList\", newField: \"domainModuleList\", log: \"legacy Settings.yaml. change DomainModuleList -> domainModuleList\" },\n            { oldField: \"Backend\", newField: \"backendInf\", log: \"legacy Settings.yaml. Move Backend in to backendInf key.\" },\n            { oldField: \"PredefinedBackendHeaders\", newField: \"backendInf.PredefinedBackendHeaders\", log: \"legacy Settings.yaml. Move PredefinedBackendHeaders in to backendInf key.\" },\n            { oldField: \"HeaderExceptionList\", newField: \"backendInf.HeaderExceptionList\", log: \"legacy Settings.yaml. Move HeaderExceptionList in to backendInf key.\" },\n            { oldField: \"Header\", newField: \"backendInf.Header\", log: \"legacy Settings.yaml. Move Header in to backendInf key.\" },\n            { oldField: \"backendInf.singleTab\", newField: \"singleTab\", log: \"legacy Settings.yaml. Move Header in to backendInf key.\" },\n        ];\n\n        const findOldFieldValue = (fieldPath: string) => {\n            var fieldPathArray = fieldPath.split('.');\n            var field = settings;\n            for (let i = 0; i < fieldPathArray.length; i++) {\n                var temp = field[fieldPathArray[i]];\n                if (!temp) { return }\n                if (i == fieldPathArray.length - 1) delete field[fieldPathArray[i]];\n                field = temp;\n            }\n            return field;\n        }\n\n        const setNewFieldValue = (value: string, fieldPathArray: string[], settings: any) => {\n            if (fieldPathArray.length == 1) {\n                if (!settings[fieldPathArray[0]]) { settings[fieldPathArray[0]] = value; }\n                return;\n            }\n            if (settings[fieldPathArray[0]] && typeof (settings[fieldPathArray[0]]) != \"object\") settings[fieldPathArray[0]] = {};\n            settings[fieldPathArray[0]] = settings[fieldPathArray[0]] || {};\n            setNewFieldValue(value, fieldPathArray.slice(1), settings[fieldPathArray[0]])\n        }\n\n        legacySettingFields.forEach(item => {\n            var oldField = findOldFieldValue(item.oldField);\n            if (oldField) {\n                setNewFieldValue(oldField, item.newField.split('.'), settings);\n            }\n        });\n\n        return settings;\n    }\n\n    /* \n     * @param url: (legacy applications url format: quick://<module_name>/<path_to_file>)\n     * @returns formattedURL for newBuild \n     */\n    public static fixLegacyPathFormat(url: string) {\n        if (url.startsWith(\"quick://\")) {\n            var splittedPath = url.substring(8).split('/')\n            return \"/microui/\" + splittedPath[0] + \"/qjson/\" + url.substring(splittedPath[0].length + 9)\n        } else {\n            return url;\n        }\n    }\n\n    public static containerServicesModifications(self: any, containerServices?: IContainerServices) {\n        if (!containerServices) {\n            containerServices = {}\n        }\n        if (self.PlateauIAM) {\n            containerServices.logout = () => { self.PlateauIAM.logout(); };\n            containerServices.getPlateauIAM = () => { return self.PlateauIAM; };\n        }\n\n        //LIMBO: below code found in qui. we do not know if anyone uses this. \n        //undocumented noRelativeQjsonUrl feature. \n        if (self.webSDKSettings && (self.webSDKSettings as any).noRelativeQjsonUrl) {\n            containerServices.getURL = (url, mode) => {\n                if (mode != \"ui\" || UrlHelper.IsDirectUrl(url)) { return undefined; }\n                return url.startsWith(\"/\") ? url : \"/\" + url;\n            };\n        }\n        //undocumented noRelativeQjsonUrl feature.\n        return containerServices;\n    }\n\n    public static fixQueryString(qjsonPath?: string) {\n        //ex:\n        //this is symphony -> \"q=/isleasing-sym/qjsonfunc?qjsonpath=homeTablet\"\n        //this is qui -> \"q=/static/qjsons/homeTablet\"\n        let search = window.location.search;\n        let query: Record<string, Array<string> | undefined> = {};\n        if (search) {\n            search = search[0] === '?' ? search.substr(1) : search;\n            search = search.replace(/\\?/, \"&\");\n            query = UrlHelper.ParseQuery(search);\n            qjsonPath = query.q ? query.q.splice(0, 1).join(\"\") : qjsonPath;\n            if (query.q?.length == 0) { delete query.q; }\n        }\n        if (query.qjsonpath) {\n            qjsonPath += \"?qjsonpath=\" + query.qjsonpath.splice(0, 1);\n            if (query.qjsonpath.length == 0) { delete query.qjsonpath; }\n        }\n\n        const leftQueryString = Object.entries(query).map(([key, value]) => {\n            return value?.map(eachValue => `${encodeURIComponent(key)}=${encodeURIComponent(eachValue!)}`)\n        }).map(item => item?.join(\"&\")).join('&');\n\n        if (qjsonPath?.endsWith(\".js\")) {\n            return qjsonPath;\n        }\n        if (qjsonPath) {\n            let _qjsonPath = qjsonPath?.endsWith(\".qjson\") ? qjsonPath : qjsonPath += \".qjson\";\n            return leftQueryString ? _qjsonPath + \"?\" + leftQueryString : _qjsonPath;\n        }\n        \n        return qjsonPath;\n    }\n}\n","import { PlateauMessaging, PModules, FrameCommunicator, ISocketPackage } from \"@stechquick/plateau-comm\"\nimport { IWebSDK } from \"../../../../common/shrimp/interfaces/quick/IWebSDK\";\nimport { INamedCompModel } from \"../../../../common/shrimp/interfaces/quick/INamedCompModel\";\nimport { LazyLoader } from \"../../../../common/shrimp/helpers/lazyLoader\";\nexport class LivePreviewManager{\n    private frameCommunication: FrameCommunicator<PModules>;\n    private livePreviewID: string | undefined;\n    private getQjsonUrlPrefix: string | undefined;\n    constructor(targetWindow: Window) {\n        this.frameCommunication = PlateauMessaging.CreatePlateauMessaging(targetWindow);\n    }\n    public async isItLivePreview():Promise<string | undefined> {\n        var self = this;\n        const response = await self.frameCommunication.Send(\"LivePreview\", \"getLPID\", { type: \"getLPID\" }, { awaitResponse: true, awaitTime: 100 })?.catch((reason)=>{\n            return;\n        });\n        \n        if(!response || response.msg.type!=\"getLPIDResponse\") {\n            return;\n        }\n        self.livePreviewID=response.msg.ID;\n        return response.msg.ID;       \n    }\n    public async getLivePreviewSettings():Promise<any | undefined> {\n        var self = this;\n        const response =\n            await self.frameCommunication.Send(\"LivePreview\", \"getLPPlateauUIOptions\", { type: \"getLPPlateauUIOptions\" }, { awaitResponse: true, awaitTime: 10000 })?.catch((reason) => {\n                return;\n            });\n        if (!response || response.msg.type != \"getLPPlateauUIOptionsResponse\") {\n            return;\n        }\n        self.getQjsonUrlPrefix = response.msg.getQJsonUrlPrefix;\n        return response.msg.PlateauUIOptions;  \n    }\n\n    public setExternalQJsonRetriever(sdk: IWebSDK) {\n        var self=this;\n        if(!self.getQjsonUrlPrefix){\n            return;\n        }\n        sdk.setQJsonUrlPrefix(self.getQjsonUrlPrefix);\n    }\n\n}","export interface IPromiseData<T> {\n    promise: Promise<T>;\n    resolver: (value: T | PromiseLike<T>) => void;\n    reject: (reason?: any) => void;\n    startTimer: (timeout: number) => void;\n}\n\n//some platforms have syncronous resolve problem (ex: IOS JavascriptCore)\ndeclare var doNothing: (() => void) | undefined;\nlet syncResolved = false as boolean;\nnew Promise<void>(res => res()).then(() => syncResolved = true);\ntypeof(doNothing) != \"undefined\" && doNothing();\nconst syncResolveProblem = syncResolved === true; // platform has sync resolve problem or not\n\ntype ResolveFunc<T> = (value: T | PromiseLike<T>) => void;\n/**\n * @param timeout timeout time in ms, undefined if infinite\n */\nexport function CreatePromiseData<T>(timeout?: number, opt: { fixSyncResolve?: boolean } = {}): IPromiseData<T> {\n    const syncResolveFixer = (cb: ResolveFunc<T>) => syncResolveProblem && opt.fixSyncResolve ? (value: T | PromiseLike<T>) => setTimeout(() => cb(value)) : cb;\n    let resolver: ResolveFunc<T> = <any>undefined, reject: (reason?: any) => void = <any>undefined;\n    let timer: number;\n    const startTimer: IPromiseData<T>[\"startTimer\"] = (timeout: number) => {\n        if (timer) { clearTimeout(timer as unknown as NodeJS.Timeout); }\n        timer = setTimeout(() => { reject(new Error(`The operation has timed out. timeoutValue  : ${timeout}`)); }, timeout) as unknown as number;\n    }\n\n    if (timeout) {\n        startTimer(timeout);\n    }\n\n    return {\n        startTimer,\n        promise: new Promise<T>((res, rej) => { resolver = syncResolveFixer(res); reject = rej; }),\n        resolver,\n        reject\n    };\n}","import { CreatePromiseData } from \"./createPromiseData\";\n\nexport async function importScript<T>(path: string, windowLibraryName: string, importField: string | \"*\" = \"default\") {\n    const prom = CreatePromiseData<void>();\n    const script = document.createElement(\"script\");\n    script.src = path;\n    script.onload = () => prom.resolver();\n    script.onerror = (...args) => prom.reject({ ...args });\n    document.body.appendChild(script);\n    await prom.promise;\n\n    const module = (window as any)[windowLibraryName];\n    try {\n        delete (window as any)[windowLibraryName];\n    } catch (error) { // throws \"Cannot delete property of #<Window>\", some declared properties are mounted on the window and are non-configurable.\n    }\n\n    return (importField == \"*\" ? module : module[importField]) as T;\n}\n\nexport async function importModule<T>(path: RequestInfo, require: (name: string) => any, importField: string = \"default\") {\n    const compjs = await importModuleFile(path);\n    return importModuleBody<T>(compjs, require, importField);\n}\nexport async function importModuleFile(path: RequestInfo) {\n    const result = await fetch(path);\n    return await result.text();\n}\nexport async function importModuleBody<T>(moduleJs: string, require: (name: string) => any, importField: string | \"*\" = \"default\") {\n    const module = {} as any, exports = {};\n    new Function(\"module\", \"exports\", \"require\", moduleJs)(module, exports, require);\n\n    return (importField == \"*\" ? module.exports : module.exports[importField]) as T;\n}","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"plateau-comm\"] = factory();\n\telse\n\t\troot[\"plateau-comm\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/PlateauMessaging.ts\");\n","export class ArrayHelper {\n    static findAndRet<T, R>(array: Array<T>, predicate: (item: T, index: number, array: Array<T>) => R | undefined) {\n        const len = array.length;\n        for (var i = 0; i < len; i++) {\n            const retVal = predicate(array[i], i, array);\n            if (retVal !== undefined) {\n                return retVal;\n            }\n        }\n        return undefined;\n    }\n    static InitArray(size: number) {\n        const arr: Array<number> = [];\n        for (let i = 0; i < size; i++) {\n            arr.push(i);\n        }\n        return arr;\n    }\n    public static InitEmptyArray(size: number) {\n        return Array.from(new Array(size));\n    }\n\n    /**\n     * Fast way to find last object in a given array\n     * @param array to be search in\n     * @param key to be last searched  object key\n     */\n    static lastIndexOf(array: Array<any>, key: string, value?: any) {\n        for (let i = array.length - 1; i >= 0; i--) {\n            if (array[i][key] === (value ? value : key))\n                return i;\n        }\n        return -1;\n    };\n\n    /**\n     * Change object of index\n     * First index can move to the end of the array\n     * Last index can move to first index\n     * @param array Array to be moved\n     * @param oldIndex Old index of object\n     * @param newIndex New index of object\n     */\n    static arrayMove(array: Array<Object | null>, oldIndex: number, newIndex: number) {\n        if (newIndex < 0) {\n            array.splice(array.length - 1, 0, array.splice(oldIndex, 1)[0]);\n        }\n        else if (newIndex == array.length) {\n            array.splice(0, 0, array.splice(oldIndex, 1)[0]);\n        }\n        else {\n            array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n        }\n    };\n\n}","import { IMessage } from \"./logger\";\n\nexport interface IBulkManager {\n    logHandler: ((messages: IMessage) => void) | undefined;\n    clear?: () => void;\n    writeMessage(message: IMessage): void;\n}\n\nexport class BulkManager implements IBulkManager {\n    logHandler: ((messages: IMessage) => void) | undefined;\n    clear?: () => void;\n\n    /**\n     * Vomit the bulk messages into callback function of the shell\n     * @param message Log message that to be added\n     */\n    writeMessage(message: IMessage) {\n        this.logHandler?.(message);\n    }\n}","import { LogType, Logger } from \"./logger\";\n\nexport class catcher {\n    static tryLog({ cb, catchLog }: { cb: () => void, catchLog?: (err: any) => string }) {\n        try {\n            cb();\n        } catch (error) {\n            const logMessage = catchLog ? catchLog(error) : \"tryLog error happened\";\n            Logger.Log({ logMessage, error, logType: LogType.Error });\n        }\n    }\n}\n\n\n","export class CryptoHelper {\n    private static guidCounter = 0;\n\n    /**\n     * \n     * @param base number layout (number of distinct digits) (10'luk say dzeni, 16'lk say dzeni)\n     * @param length length of word. Max value: 16\n     */\n    public static GetRandomWord(base: number, length: number) {\n        return Math.random().toString(base).substring(2, length + 2);\n    }\n\n    /**\n     * Ex: be945482-jf10-40d1-a50d-rzxa2c41fdcu\n     */\n    public static CreateGuid() {\n        return [8, 4, 4, 4, 6].map(length => this.GetRandomWord(36, length)).join(\"-\") + ((++CryptoHelper.guidCounter) % 2150000000).toString(36);\n    }\n}","import { Hook } from \"./hook\";\n\ntype triggerCb = (...params: any) => void;\nexport class EventBus {\n    private static AllEvents = \"AllEvents\";\n\n    private subsDict: Record<string, Hook<triggerCb> | undefined>;\n    constructor() {\n        this.subsDict = {};\n    }\n\n    private obtainSubsList(eventName: string) {\n        return this.subsDict[eventName] || (this.subsDict[eventName] = new Hook(\"EventBus_\" + eventName));\n    }\n\n    public Subscribe(eventName: string, cb: triggerCb) {\n        if (eventName == EventBus.AllEvents) { throw new Error(`${eventName} is a registered key. If you want to subscribe all events, use SubsribeAll().`); }\n\n        this.obtainSubsList(eventName).subscribe(cb);\n    }\n    public Unsubscribe(eventName: string, cb: triggerCb) {\n        if (eventName == EventBus.AllEvents) { throw new Error(`${eventName} is a registered key. If you want to subscribe all events, use SubsribeAll().`); }\n\n        this.subsDict[eventName]?.unsubscribe(cb);\n    }\n    public SubscribeAll(cb: triggerCb) {\n        this.obtainSubsList(EventBus.AllEvents).subscribe(cb);\n    }\n\n    public UnsubscribeAll(cb: triggerCb) {\n        this.subsDict[EventBus.AllEvents]?.unsubscribe(cb);\n    }\n    public Trigger(eventName: string, ...params: any) {\n        const allEventsHook = this.subsDict[EventBus.AllEvents];\n        allEventsHook?.triggerer.apply(allEventsHook, params);\n\n        if (eventName == EventBus.AllEvents) { return; }\n\n        const hook = this.subsDict[eventName];\n        hook?.triggerer.apply(hook, params);\n    }\n    public TriggerJustAllSubs(...params: any){\n        const allEventsHook = this.subsDict[EventBus.AllEvents];\n        allEventsHook?.triggerer.apply(allEventsHook, params);\n    }\n\n}","import { ISocket } from \"./webSocket/iSocket\";\nimport { ISocketPackage, StructuredMessageTypeDict, StructuredSocket } from \"./webSocket/structuredSocket\";\n\nclass WindowSocket implements ISocket {\n    public OnMessageWithDirectObject = true;\n\n    private targetWindow: Window;\n    constructor(targetWindow: Window) {\n        this.targetWindow = targetWindow;\n        window.addEventListener(\"message\", (ev) => {\n            if (ev.source != targetWindow) {\n                return;\n            }\n            this.OnMessage?.(ev.data);\n        })\n    }\n    Send(packet: string | object): void {\n        this.targetWindow.postMessage(packet, \"*\");\n    }\n    OnMessage?: ((data: any) => void) | undefined;\n}\n\n\ntype MM<MesTypes extends Record<string, StructuredMessageTypeDict>, T extends keyof MesTypes> = keyof MesTypes[T];\nexport type MessageTypes<MesTypes extends Record<string, StructuredMessageTypeDict>, T extends keyof MesTypes> = MesTypes[T][MM<MesTypes, T>];\nexport class FrameCommunicator<MesTypes extends Record<string, StructuredMessageTypeDict>> {\n    private structuredSocket: StructuredSocket<MesTypes[keyof MesTypes]>;\n    private windowSocket: WindowSocket;\n    constructor(targetWindow: Window) {\n        this.windowSocket = new WindowSocket(targetWindow);\n        this.structuredSocket = new StructuredSocket(this.windowSocket);\n    }\n    public Send<TModule extends keyof MesTypes, ReqType extends keyof MesTypes[TModule]>(target: TModule, messageType: ReqType, message: MesTypes[TModule][ReqType], options: {\n        replyId?: string | undefined;\n        awaitResponse?: boolean | undefined;\n        awaitTime?: number | undefined;\n    }) {\n        const structuredSocket = (this.structuredSocket as unknown as StructuredSocket<MesTypes[TModule]>);\n        return structuredSocket.Send(message, options);\n    }\n\n    public Subscribe<TModule extends keyof MesTypes, ReqType extends keyof MesTypes[TModule]>(target: TModule, messageType: ReqType, cb: (message: ISocketPackage<MesTypes[TModule][ReqType]>) => void) {\n        const structuredSocket = (this.structuredSocket as unknown as StructuredSocket<MesTypes[TModule]>);\n        structuredSocket.Subscribe(messageType, cb);\n    }\n\n    public SubscribeAll<Types>(cb: (message: ISocketPackage<Types>) => void) {\n        this.structuredSocket.SubscribeAll(data => cb(data as unknown as ISocketPackage<Types>));\n    }\n\n    public UnsubscribeAll(cb: (message: ISocketPackage<MesTypes[string][string]>) => void) {\n        this.structuredSocket.UnsubscribeAll(data => cb(data as ISocketPackage<MesTypes[string][string]>));\n    }\n}","import { catcher } from \"./catcher\";\nimport { StringHelper } from \"./stringHelper\";\n\ntype HookCallBack = (...args: Array<any>) => void;\n\nexport class Hook<T extends HookCallBack>{\n    private subscribers: Array<T> = [];\n    private postSubscribers?: Hook<T>;\n    private hookName: string;\n    private hookState: { triggered: boolean, triggerArgs: Array<any>, active: boolean }; //having a hookState states this hook manages state\n    private triggerPostSubscribersWithCb: boolean;\n    private hookStateListeners: Array<T> = [];\n\n    public get TriggerPostSubscribersWithCb(): boolean {\n        return this.triggerPostSubscribersWithCb;\n    }\n    public set TriggerPostSubscribersWithCb(v: boolean) {\n        this.triggerPostSubscribersWithCb = v;\n    }\n    public get subscriberCount() {\n        return this.subscribers.length;\n    }\n    public get hasSubscribers() {\n        return this.subscriberCount > 0;\n    }\n    public get hasPostSubscribers(): boolean {\n        return (this.postSubscribers?.hasPostSubscribers || this.postSubscribers?.hasSubscribers) === true;\n    }\n    public get triggerer(): T {\n        return this.trigger as T;\n    }\n\n    constructor(hookName: string, options: { manageState?: boolean, triggerPostSubscribersWithCb?: boolean } = {}) {\n        this.hookName = hookName;\n        this.triggerPostSubscribersWithCb = options.triggerPostSubscribersWithCb || false;\n        options.manageState = options.manageState || false;\n        this.hookState = { triggered: false, triggerArgs: [], active: options.manageState };\n    }\n\n    private trigger(...args: Array<any>) {\n        if (this.hookState.active) {\n            this.hookState.triggered = true;\n            this.hookState.triggerArgs = args;\n        }\n        this.subscribers.forEach(sub => this.tryTriggerSubscriber(sub, args));\n        if (!this.triggerPostSubscribersWithCb) this.postSubscribers?.triggerer.apply(this.postSubscribers, args)\n    }\n    private tryTriggerSubscriber(sub: T, args: Array<any>) {\n        catcher.tryLog({ cb: () => sub.apply(null, args), catchLog: () => `${this.getHookName()} subscriber failed` });\n    }\n    private getHookName() {\n        let retVal = this.hookName;\n        if (!StringHelper.endsWith(retVal.toLowerCase(), \"hook\")) {\n            retVal += \" hook\";\n        }\n        return retVal;\n    }\n\n    public ResetAndStartState() {\n        this.hookState.triggerArgs = [];\n        this.hookState.active = true;\n        this.hookState.triggered = false;\n\n        this.hookStateListeners.forEach(cb => cb.apply(null));\n    }\n    public DisableState() {\n        this.hookState.triggerArgs = [];\n        this.hookState.active = false;\n        this.hookState.triggered = false;\n    }\n    public IsTriggered() {\n        if (!this.hookState.active) { throw new Error(\"IsTriggered can not be checked on a non manageState Hook: \" + this.hookName); }\n\n        return this.hookState.triggered;\n    }\n    public triggerPostSubscribers(...args: Array<any>) {\n        this.postSubscribers?.triggerer.apply(this.postSubscribers, args);\n    }\n\n    //#region subscribers\n    public subscribe(cb: T) {\n        this.subscribers.push(cb);\n        this.hookState.active && this.hookState.triggered && this.tryTriggerSubscriber(cb, this.hookState.triggerArgs);\n    }\n    public unsubscribe(cb: T) {\n        this.subscribers = this.subscribers.filter(sub => sub != cb); // splice is fastest but this is safest, because of immutability, because of forEach traversals\n    }\n    public clearSubscribers() {\n        this.subscribers = [];\n    }\n    //#endregion\n\n    //#region postSubscribers\n    public postSubscribe(cb: T) {\n        if (!this.postSubscribers) {\n            this.postSubscribers = new Hook<T>(this.hookName + \"_Post\", { manageState: this.hookState.active });\n            this.postSubscribers.hookState = this.hookState;\n        }\n        this.postSubscribers.subscribe(cb);\n    }\n    public postUnsubscribe(cb: T) {\n        this.postSubscribers?.unsubscribe(cb);\n    }\n    public clearPostSubscribers(forced: boolean = false) {\n        this.postSubscribers?.clearSubscribers();\n        if (forced || !this.hasPostSubscribers) {\n            this.postSubscribers = undefined;\n        }\n    }\n    //#endregion\n\n    public listenHookState(cb: T) {\n        this.hookStateListeners.push(cb);\n    }\n\n    public forceClearAllSubscibers() {\n        this.clearPostSubscribers(true);\n        this.clearSubscribers();\n    }\n}","import { LogType } from \"../interfaces/ComponentInterfaces/ILogger\";\nimport { BulkManager, IBulkManager } from \"./bulkManager\";\nimport { WindowHelper } from \"./windowHelper\";\n\n// Log type values are equal to their acceptable byte size\n// 1 char * 2 = 1 byte\nexport { LogType };\n\ninterface ILogger {\n    Log({ logMessage, logType, error }: { logMessage: string, logType?: LogType, error?: Error }): void;\n}\n\nexport interface IMessage {\n    message: string\n    type: string\n    time: string\n    caller: string\n}\n\nclass Singularizer {\n    public static trySingularize(name: string, instance: any): boolean {\n        if (!this.singularized(name)) {\n            (<any>WindowHelper.Instance.Window)[name] = instance;\n            return true;\n        }\n        return false;\n    }\n    public static singularized(name: string) {\n        return (<any>WindowHelper.Instance.Window)[name];\n    }\n    public static getFreeName(name: string) {\n        const win: any = WindowHelper?.Instance.Window ?? {};\n        let counter = 0;\n        while (win[name + \"_\" + ++counter]);\n        return name + \"_\" + counter;\n    }\n}\n\nexport class Logger implements ILogger {\n    constructor() {\n        // i know this functions are static but in rallyshell we have shrimp not quick_shrimp.\n        // and the first caller of the functions are throws 'not implemented exception' because of lazy load.\n        return { Log: this.Log };\n    }\n    private static windowName = Singularizer.getFreeName(\"shrimp_shelldorynemo_pulsar_lbm\");\n    // Window name should not be changed at any time. It will be always the same.\n    // private static windowName = \"shrimp_shelldorynemo_pulsar_lbm\";\n    /**\n     * ! Carefull using this static variable\n     */\n    private static logBulkManager: IBulkManager | undefined;\n\n\n    private static get LogBulkManager() {\n        if (!Logger.logBulkManager) {\n            Logger.logBulkManager = Singularizer.singularized(Logger.windowName);\n        }\n        return Logger.logBulkManager;\n    }\n    private static logLevel = [LogType.MobilDebug, LogType.Trace, LogType.Debug, LogType.Warning, LogType.Error];\n    /**\n     * Whenever the shell initiates its callback, this handling also will be initiated as well\n     * ? Static may change? Will see\n     * @param timer Seconds of writing down the messages\n     * @param callBack Function that handles the messages, comes from shell.\n     */\n    static Init({ callBack, clear }: { callBack?: ((messages: IMessage) => void), clear?: () => void }) {\n        this.logBulkManager = new BulkManager();\n        this.logBulkManager.logHandler = callBack;\n\n        Singularizer.trySingularize(this.windowName, this.logBulkManager);\n    }\n\n    /**\n     * Console log function\n     * @param logMessage Message that to be written to the console\n     * @param logType console type(Debug, Trace, Warning, Error)\n     * @param backgroundColor message background color\n     * @param color message text color  \n     * @param additional additional info for logging \n     * @param yamlLogType\n     * @returns void\n     */\n    public static Log({ logMessage, logType = LogType.Trace, error, backgroundColor = null, textColor = null, additional = null, source, isClientLog = false, yamlLogType, minEngineLogLevel }:\n        { logMessage: any, logType?: LogType, error?: unknown, backgroundColor?: string | null, textColor?: string | null, additional?: any, source?: \"model\", isClientLog?: boolean, yamlLogType?: LogType, minEngineLogLevel?: LogType }): void {\n\n        let colorOptions = backgroundColor || textColor ? \"background: \" + backgroundColor + \"; color: \" + textColor : null;\n        let targetLog: undefined | ((message: any, ...optionalParams: Array<any>) => void);\n        switch (true) {\n            case logType == LogType.MobilDebug && this.logLevel.indexOf(LogType.MobilDebug) > -1:\n                targetLog = console.log;\n                break;\n            case (logType == LogType.Debug && this.logLevel.indexOf(LogType.Debug) > -1):\n            case (logType == LogType.Trace && this.logLevel.indexOf(LogType.Trace) > -1):\n                targetLog = console.log;\n                break;\n            case (logType == LogType.Error && this.logLevel.indexOf(LogType.Error) > -1):\n                targetLog = console.error;\n                break;\n            case (logType == LogType.Warning && this.logLevel.indexOf(LogType.Warning) > -1):\n                targetLog = console.warn;\n                break;\n            case true:\n                break;\n        }\n\n        let params: [any, ...any[]] = [logMessage];\n\n        if (colorOptions && typeof logMessage === \"string\") {\n            params[0] = '%c' + logMessage;\n            params.push(colorOptions);\n        }\n        if (error) {\n            params.push(error);\n        }\n\n        if (additional) {\n            params.push(additional);\n        }\n\n        if (source) { // MUST BE LAST!!!! (used in mobile sim. -> editor logging)\n            params.push({ source });\n        }\n        targetLog?.apply(console, params);\n\n        if (isClientLog || (isClientLog && yamlLogType && yamlLogType <= logType) || minEngineLogLevel && minEngineLogLevel <= logType) {\n            this.prepareClientLog(logMessage, logType);\n        }\n    }\n\n    /**\n     * Log messages are controlled by their size and add them to the bulk array with type, date and caller function name\n     * @param logMessage Message that will be written to the server\n     * @param logType Type of log message   \n     */\n    private static prepareClientLog(logMessage: any, logType: LogType) {\n        let currentDateFormat = new Date(Date.now());\n        let clientDate = currentDateFormat.getFullYear() + \".\" + (\"0\" + (currentDateFormat.getMonth() + 1)).slice(-2) + \".\" + (\"0\" + currentDateFormat.getDate()).slice(-2) + \" \" +\n            currentDateFormat.getHours() + ':' + (\"0\" + currentDateFormat.getMinutes()).slice(-2) + ':' + (\"0\" + currentDateFormat.getSeconds()).slice(-2) + ':' + currentDateFormat.getMilliseconds();\n        ;\n        let message: string;\n        let whoCallMe = this.getCalleFunctionName();\n        if (typeof logMessage !== \"string\" && logType > 0) {\n            try {\n                message = this.shorten(JSON.stringify(logMessage), logType);\n            }\n            catch (error) {\n                message = \"Can not stringfy the given log. Type of log data is: \" + Object.prototype.toString.call(logMessage);\n            }\n        }\n        else {\n            message = this.shorten(logMessage, logType);\n        }\n        Logger.LogBulkManager?.writeMessage({ message: message, type: LogType[logType], time: clientDate, caller: whoCallMe });\n    }\n\n    /**\n     * Can't call Log.calle.caller beacuse of the TypeScript classes are on \"strict mode\"\n     * JS doesn't allow to arguments.callee.caller on strict mode\n     * So just throw an simple Error and get the latest function name\n     * returns String\n     */\n    private static getCalleFunctionName(): string {\n        // try {\n        //     throw new Error();\n        // }\n        // catch (e) {\n        //     try {\n        //         return e.stack.split('at ')[4].split(' ')[0];\n        //     } catch (e) {\n        //         return '';\n        //     }\n        // }\n        return '';\n    }\n\n    /**\n     * Clears the bulk of messages \n     */\n    public static clearLogs() {\n        Logger.LogBulkManager?.clear?.();\n    }\n\n    /**\n     * Trim the message with size of the log type\n     * @param logMessage log message\n     * @param logType Log type that will be controlled\n     */\n    private static shorten(logMessage: string, logType: LogType) {\n        if (logType > logMessage.length) {\n            return logMessage\n        } else {\n            return \"Non trimmed message size is: \" + logMessage.length;\n        }\n    };\n\n    /**\n     * @deprecated do not use. Use Logger.Log(...)\n     */\n    public Log(options: { logMessage: any, logType?: LogType, error?: unknown, backgroundColor?: string | null, textColor?: string | null, additional?: any, writeToConsole?: boolean, source?: \"model\" }): void {\n        return Logger.Log(options);\n    }\n}","export class Singularizer {\n    public static trySingularize(name: string, targetObject:any, instance: any): any {\n        let retVal = targetObject[name];\n\n        if (!retVal) {\n            retVal = targetObject[name] = instance;\n        }\n        return retVal;\n    }\n}","import { ArrayHelper } from \"./arrayHelper\";\n\nexport class StringHelper {\n\n\n    /** Function that count occurrences of a substring in a string;\n     * @author Vitim.us https://gist.github.com/victornpb/7736865\n     * @see http://stackoverflow.com/questions/4009756/how-to-count-string-occurrence-in-string/7924240#7924240\n     */\n    public static OccurenceCount(value: string, searchString: string, allowOverlapping?: boolean) {\n        value += \"\";\n        searchString += \"\";\n        if (searchString.length <= 0) return (value.length + 1);\n\n        var n = 0,\n            pos = 0,\n            step = allowOverlapping ? 1 : searchString.length;\n\n        while (true) {\n            pos = value.indexOf(searchString, pos);\n            if (pos >= 0) {\n                ++n;\n                pos += step;\n            } else break;\n        }\n        return n;\n    }\n\n    public static RepeatString(value: string, repeatCount: number) {\n        return ArrayHelper.InitEmptyArray(repeatCount + 1).join(value);\n    }\n\n    public static TrimStart(str: string | undefined, removeString: string | undefined) {\n        if (!str || !removeString) { return str; }\n\n        while (true) {\n            const index = str.indexOf(removeString);\n            if (index != 0) { return str; }\n\n            str = str.substring(removeString.length);\n        }\n    }\n\n    public static endsWith(self: string, search: string, this_len?: number) {\n        if (this_len === undefined || this_len > self.length) {\n            this_len = self.length;\n        }\n        return self.substring(this_len - search.length, this_len) === search;\n    }\n\n    /**\n     * Returns a random string\n     * @param length Length of generated random string\n     */\n    static randomStringGenerator(length: Number) {\n        var result = '';\n        var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var charactersLength = characters.length;\n        for (var i = 0; i < length; i++) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return result;\n    }\n\n    static capitalizeString(input: string): string {\n        ///<summary>Capitialize first letter of a string</summary>\n        return input.charAt(0).toUpperCase() + input.slice(1);\n    };\n\n    /**\n     * Change char in string \n     * @param str String that to be changed\n     * @param index Index of string\n     * @param chr Char \n     */\n    static setCharAt(str: string, index: number, chr: string): string {\n        if (index < 0) {\n            return str;\n        }\n        if (index > str.length) {\n            index = str.length - 1;\n        }\n        return str.substr(0, index) + chr + str.substr(index + 1);\n    }\n}","import { CreatePromiseData, IPromiseData } from \"../../interfaces/IPromiseData\";\nimport { CryptoHelper } from \"../cryptoHelper\";\nimport { EventBus } from \"../eventBus\";\nimport { ISocket } from \"./iSocket\";\n\n\n\n\n\ninterface ISocketMessage {\n    type: string;\n    [key: string]: any;\n}\nexport interface ISocketPackage<K> {\n    id: string;\n    replyId?: string;\n    msg: K;\n}\n\n\n\nexport type StructuredMessageTypeDict = Record<string, ISocketMessage>;\n\nexport class StructuredSocket<MessageType extends StructuredMessageTypeDict> {\n    private socket: ISocket;\n    private awaitMsgList: Record<string, { promData: IPromiseData<ISocketPackage<MessageType[keyof MessageType]>> } | undefined>;\n    private eventBus: EventBus;\n    constructor(socket: ISocket) {\n        this.socket = socket;\n        this.awaitMsgList = {};\n        this.eventBus = new EventBus();\n        socket.OnMessage = this.listen.bind(this);\n    }\n\n    public CreatePackage<K extends keyof MessageType>(msg: MessageType[K], options: { replyId?: string, awaitResponse?: boolean, awaitTime?: number }) {\n        const packet: ISocketPackage<MessageType[K]> = { msg, id: CryptoHelper.CreateGuid(), replyId: options.replyId };\n        return packet;\n    }\n\n    public Send<K extends keyof MessageType>(msg: MessageType[K], options: { replyId?: string, awaitResponse?: boolean, awaitTime?: number }) {\n        const packet = this.CreatePackage(msg, options);\n        this.socket.Send(packet);\n\n        let promData: IPromiseData<ISocketPackage<MessageType[keyof MessageType]>> | undefined;\n        if (options.awaitResponse) {\n            promData = CreatePromiseData(options.awaitTime);\n            this.awaitMsgList[packet.id] = { promData: promData };\n        }\n\n        return promData?.promise;\n    }\n\n    public Subscribe<K extends keyof MessageType>(key: K, cb: (data: ISocketPackage<MessageType[K]>) => void) {\n        this.eventBus.Subscribe(key as string, cb);\n    }\n\n    public Unsubscribe<K extends keyof MessageType>(key: K, cb: (data: ISocketPackage<MessageType[K]>) => void){\n        this.eventBus.Unsubscribe(key as string, cb);\n    }\n\n    public SubscribeAll(cb: (data: ISocketPackage<MessageType[keyof MessageType]>) => void){\n        this.eventBus.SubscribeAll(cb);\n    }\n    public UnsubscribeAll(cb: (data: ISocketPackage<MessageType[keyof MessageType]>) => void){\n        this.eventBus.UnsubscribeAll(cb);\n    }\n\n\n    public ConvertBufferToStructure(data: string | Buffer | ArrayBuffer | Buffer[] | object) {\n        const packet = (this.socket.OnMessageWithDirectObject ? data : JSON.parse(data.toString())) as ISocketPackage<MessageType[keyof MessageType]>;\n        if (!packet.msg || !packet.msg.type) { return undefined; }\n\n        return packet;\n    }\n\n    private listen(data: string | Buffer | ArrayBuffer | Buffer[] | object) {\n        let packet: ISocketPackage<MessageType[keyof MessageType]> | undefined;\n        try {\n            packet = this.ConvertBufferToStructure(data);\n        } catch (ex) { }\n        if (!packet) { return undefined; }\n\n        if (packet.replyId) {\n            const awaiter = this.awaitMsgList[packet.replyId];\n            if (awaiter) {\n                delete this.awaitMsgList[packet.replyId];\n                awaiter.promData.resolver(packet);\n            }\n            this.eventBus.TriggerJustAllSubs(packet);\n            return;\n        }\n\n        this.eventBus.Trigger(packet.msg.type, packet);\n    }\n}","import { Logger, LogType } from \"./logger\";\nimport { IDictionary } from \"../interfaces/IDictionary\";\nimport { Singularizer } from \"./singularizer\";\n\nconst undefinedType: string = \"undefined\";\n\ninterface EventListenerCollection {\n    origAddEventListener: any,\n    origRemoveEventListener: any,\n    activeListeners: (IDictionary<Array<EventListenerOrEventListenerObject>>),\n    eventTarget: any\n}\n\nexport interface IDocument extends Partial<Document> {\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;\n    createElement(tagName: string, options?: ElementCreationOptions): HTMLElement;\n}\n\nexport interface IHistory extends Partial<History> {\n    pushState(data: any, title: string, url?: string | null): void;\n}\n\n\nexport interface IWindow extends Partial<Window> {\n\n}\nexport interface IWorker {\n    worker(scriptURL: string | URL, options?: WorkerOptions | undefined): Worker | undefined\n\n}\n\nexport class WindowHelper {\n\n    private doc: IDocument;\n    private hist: IHistory;\n    private win: IWindow;\n    private helperWorker?: IWorker;\n    private eventListeners: IDictionary<EventListenerCollection> | undefined;\n\n    constructor() {\n        this.doc = typeof (document) !== undefinedType ? document : {\n            addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions) {\n                //might simulate this in future...\n                Logger.Log({ logMessage: `Enviroment does not support document. Triggering document.addEventListener now, type is: ${type}`, logType: LogType.Warning });\n                (<EventListener>listener)(<any>{ target: { readyState: this.readyState } });\n            },\n            createElement(tagName: string, options?: ElementCreationOptions): HTMLElement {\n                return <any>{ tagName, options };\n            },\n            readyState: \"complete\"\n        };\n\n        this.hist = typeof (history) !== undefinedType ? history : {\n            pushState(data: any, title: string, url?: string | null) {\n                //might log data and url with additional data in logging\n                Logger.Log({ logMessage: `history.pushState not supported on Node. title: ${title}`, logType: LogType.Debug });\n            }\n        };\n\n        this.win = typeof (window) !== undefinedType ? window : {\n            setInterval: setInterval,\n            clearInterval: clearInterval,\n            setTimeout: setTimeout,\n            clearTimeout: clearTimeout,\n            atob: atob,\n            btoa: btoa\n        };\n\n        this.helperWorker = {\n            worker(scriptURL: string, options?: WorkerOptions | undefined) {\n                return typeof (Worker) !== undefinedType ? new Worker(scriptURL, options) : undefined;\n            }\n        }\n\n        // this.eventListeners = this.wrapEventListeners();\n    }\n    public set onPopState(value: ((ev: PopStateEvent) => any) | null) {\n        if (typeof (window) !== undefinedType) {\n            window.onpopstate = value\n        } else {\n            Logger.Log({ logMessage: \"onPopState not supported on Node.\", logType: LogType.Debug });\n        }\n    }\n    public get document() {\n        return this.doc;\n    }\n    public get history() {\n        return this.hist;\n    }\n    public get Window() {\n        return this.win;\n    }\n    public get Worker() {\n        return this.helperWorker;\n    }\n    public static Instance: WindowHelper = Singularizer.trySingularize(\"theOneWindow\", new WindowHelper().Window, new WindowHelper());\n\n}","export enum LogType {\n    Debug = 0,\n    MobilDebug = 1000,\n    Trace = 200000, //100Kb\n    Warning = 500000, //250Kb\n    Error = 1000000 // 500Kb\n}","export interface IPromiseData<T> {\n    promise: Promise<T>;\n    resolver: (value: T | PromiseLike<T>) => void;\n    reject: (reason?: any) => void;\n    startTimer: (timeout: number) => void;\n}\n\n//some platforms have syncronous resolve problem (ex: IOS JavascriptCore)\ndeclare var doNothing: any;\nlet syncResolved = false as boolean;\nnew Promise<void>(res => res()).then(() => syncResolved = true);\ntypeof(doNothing) != \"undefined\" && doNothing();\nconst syncResolveProblem = syncResolved === true; // platform has sync resolve problem or not\n\ntype ResolveFunc<T> = (value: T | PromiseLike<T>) => void;\n/**\n * @param timeout timeout time in ms, undefined if infinite\n */\nexport function CreatePromiseData<T>(timeout?: number, opt: { fixSyncResolve?: boolean } = {}): IPromiseData<T> {\n    const syncResolveFixer = (cb: ResolveFunc<T>) => syncResolveProblem && opt.fixSyncResolve ? (value: T | PromiseLike<T>) => setTimeout(() => cb(value)) : cb;\n    let resolver: ResolveFunc<T> = <any>undefined, reject: (reason?: any) => void = <any>undefined;\n    let timer: number;\n    const startTimer: IPromiseData<T>[\"startTimer\"] = (timeout: number) => {\n        if (timer) { clearTimeout(timer); }\n        timer = setTimeout(() => { reject(new Error(`The operation has timed out. timeoutValue  : ${timeout}`)); }, timeout) as unknown as number;\n    }\n\n    if (timeout) {\n        startTimer(timeout);\n    }\n\n    return {\n        startTimer,\n        promise: new Promise<T>((res, rej) => { resolver = syncResolveFixer(res); reject = rej; }),\n        resolver,\n        reject\n    };\n}\n\nexport function PromiseAllSettled<T>(proms: Array<Promise<T>>) : Promise<T> | undefined {\n    const retProm = CreatePromiseData<T>(); \n    let left = proms.length;\n    proms.forEach(async prom => {\n        try{\n            await prom;\n        }finally{\n            if (--left <= 0){\n                retProm.resolver(prom);\n            } \n        }\n    });\n\n    return retProm.promise;\n}\n\n\n","import { IModelSate } from \"../../../common/shrimp/interfaces/quick/IModelState\";\r\nimport { FrameCommunicator, MessageTypes } from \"../../../common/shrimp/helpers/frameCommunicator\";\r\nimport { IPimQJsonOptions, GeneratePageType, ModelType, ObjectID, IModelInfo, IModule, ApplicationObjectType, ModuleObjectType, ModelObjectType, IApplication } from \"../../../common/shrimp/interfaces/quickCloud/quickCloud\"\r\nimport { INamedCompModel, INamedCompModelOnly } from \"../../../common/shrimp/interfaces/quick/INamedCompModel\";\r\nimport { IExternalQJsonRetriever } from \"../../../common/shrimp/interfaces/quick/IExternalQJsonRetriever\";\r\nimport { ISocketPackage } from \"../../../common/shrimp/helpers/webSocket/structuredSocket\";\r\nimport { ISettings } from \"@stechquick/algae/lib/quick/IPlateauUI\";\r\n\r\nexport { MessageTypes, FrameCommunicator, ISocketPackage };\r\nexport type PModules = {\r\n    Quick: {\r\n        getModel: {\r\n            type: \"getModel\";\r\n            unformatQjson?: boolean;\r\n        };\r\n        getModelResponse: {\r\n            type: \"getModelResponse\";\r\n            content: string;\r\n            fileName: string;\r\n            state?: IModelSate;\r\n            ownerType?: ModelType\r\n            ownerItem?: ObjectID\r\n            errorStatus?: boolean\r\n        };\r\n        setModel: {\r\n            type: \"setModel\";\r\n            content: string,\r\n            fileName: string,\r\n            settings?: {\r\n                \"settings.yaml\"?: string,\r\n                \"localProxy.yaml\"?: string,\r\n                \"pipeline.qjson\"?: string,\r\n                \"containerServices.js\"?: string,\r\n                \"componentList.js\"?: string,\r\n                \"alert.qjson\"?: string,\r\n                \"loading.qjson\"?: string,\r\n                \"main.css\"?: string,\r\n                \"globalLocalization.qjson\"?: string,\r\n            },\r\n            state?: IModelSate,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n            ID?: ObjectID,\r\n        };\r\n        setModelResponse: {\r\n            type: \"setModelResponse\";\r\n        };\r\n        changeCheckOutStatus: {\r\n            type: \"changeCheckOutStatus\",\r\n            checkedOut: boolean;\r\n        };\r\n        showNotification: {\r\n            type: \"showNotification\";\r\n            notificationOptions: {\r\n                type: \"warning\" | \"error\" | \"success\" | \"info\";\r\n                text: string;\r\n            }\r\n        };\r\n        generatePageEntityModel: {\r\n            type: \"generatePageEntityModel\";\r\n            params: { type: GeneratePageType, model: any, fileName: string, isProcess: boolean };\r\n        };\r\n        IAmReady: {\r\n            type: \"IAmReady\";\r\n        };\r\n        IAmReadyResponse: {\r\n            type: \"IAmReadyResponse\";\r\n            editorButtons: {\r\n                file?: boolean,\r\n                addStyle?: boolean,\r\n                wsUrl?: string,\r\n                createNamedComponent?: boolean,\r\n                pageWizard?: boolean\r\n            };\r\n            qjsonHandling: IExternalQJsonRetriever[\"qjsonHandling\"];\r\n            flow?: boolean;\r\n        };\r\n        setOptions: {\r\n            type: \"setOptions\";\r\n            flow?: boolean;\r\n        }\r\n        getQuickComp: {\r\n            type: \"getQuickComp\";\r\n            qjsonPath: string;\r\n        };\r\n        getQuickCompResponse: {\r\n            type: \"getQuickCompResponse\";\r\n            qjson: string;\r\n        };\r\n        setQuickComps: {\r\n            type: \"setQuickComps\";\r\n            params: Array<{\r\n                name: string,\r\n                id?: string,\r\n                qJsonOptions: IPimQJsonOptions,\r\n                qJsonPath?: string;\r\n            }>;\r\n            removeOlds?: boolean;\r\n        };\r\n        addOrUpdateNamedComp: {\r\n            type: \"addOrUpdateNamedComp\";\r\n            compName: string;\r\n            compModel: INamedCompModel;\r\n            compPath?: string;\r\n        };\r\n        addOrUpdateNamedCompResponse: {\r\n            type: \"addOrUpdateNamedCompResponse\";\r\n            success: boolean;\r\n            compPath?: string;\r\n            message?: string;\r\n        };\r\n        getNamedComp: {\r\n            type: \"getNamedComp\";\r\n            compPath: string;\r\n        };\r\n        getNamedCompResponse: {\r\n            type: \"getNamedCompResponse\";\r\n            compModel: INamedCompModel;\r\n        };\r\n        setNamedCompList: {\r\n            type: \"setNamedCompList\";\r\n            compModelList: Array<INamedCompModelOnly>;\r\n        };\r\n        setProperties: {\r\n            type: \"setProperties\";\r\n            params: {\r\n                cssStyle?: string, hostFunctions?: string\r\n            };\r\n        };\r\n        openPageWizard: {\r\n            type: \"openPageWizard\";\r\n        };\r\n        openPageWizardResponse: {\r\n            type: \"openPageWizardResponse\";\r\n            qjsonPath: string;\r\n        };\r\n        addComponentToScreen: {\r\n            type: \"addComponentToScreen\",\r\n            // modelID: ObjectID,\r\n            // componentType: \"basicComponent\" | \"quickComponent\",\r\n            // component: \"VProcessLayout\"\r\n        };\r\n        modifiedRequest: {\r\n            type: \"modifiedRequest\";\r\n        };\r\n        listUIModelsRequest: {\r\n            type: \"listUIModelsRequest\";\r\n        };\r\n        listUIModelsResponse: {\r\n            type: \"listUIModelsResponse\";\r\n            models: Array<{\r\n                qjsonPath: string;\r\n                name: string;\r\n            }>;\r\n        }\r\n    },\r\n    ProcessManager: {\r\n        GetProcessListRequest: {\r\n            type: \"GetProcessListRequest\"\r\n        },\r\n        GetProcessListResponse: {\r\n            type: \"GetProcessListResponse\",\r\n            processList: Array<{\r\n                name: string,            // \"Kredi bavurusu yaratma onay\"\r\n                id: string,              // 1\r\n                description: string,     // \"Yetkili kullanclar tarafndan kontroller yaplarak kredi bavurusu yaratma onay/red sreci iletilir.\"\r\n                bpmnFile: string,        // \"createCreditApplicationConfirm.bpmn\"\r\n                created_at: string,      // \"2021-01-21 09:21:10\"\r\n                updated_at: string,      // \"2021-01-21 09:21:10\"\r\n                processTemplate: string, // \"singleApproval\"\r\n                pages: Array<{\r\n                    pageType: string,    // \"startPage\"  or  \"confirmPage1\"  or  \"confirmPage2\"  or  \"confirmPage3\" ...\r\n                    pageName: string,    // \"createCreditApplicationConfirmPage.qjson\"\r\n                    roles: Array<string> // [\"Musteri_Tanimlama\", \"BACK_OFFICE\"]\r\n                }>\r\n            }>\r\n        },\r\n        ListModules: {\r\n            type: \"ListModules\";\r\n            ownerProjects?: Array<ObjectID>;\r\n        },\r\n        ListModulesResponse: {\r\n            type: \"ListModulesResponse\";\r\n            modules: Array<IModule>;\r\n        },\r\n        ListModelsResponse: {\r\n            type: \"ListModelsResponse\",\r\n            models: IModelInfo[],\r\n        },\r\n        ListModels: {\r\n            type: \"ListModels\",\r\n            ownerItem: ObjectID,\r\n            modelType?: ModelType,\r\n        },\r\n        AddComponentToScreen: {\r\n            type: \"AddComponentToScreen\",\r\n            modelID: ObjectID,\r\n            componentType: \"basicComponent\" | \"quickComponent\",\r\n            component: \"VProcessLayout\"\r\n        },\r\n        AddComponentToScreenResponse: {\r\n            type: \"AddComponentToScreenResponse\",\r\n            success: boolean,\r\n            message: string\r\n        },\r\n        GetObjectInfo: {\r\n            type: \"GetObjectInfo\",\r\n            objectId: ObjectID,\r\n            objectType: ApplicationObjectType | ModuleObjectType | ModelObjectType\r\n        },\r\n        GetObjectInfoResponse: {\r\n            type: \"GetObjectInfoResponse\",\r\n            object: IApplication | IModule | IModelInfo\r\n        },\r\n        GetContent: {\r\n            type: \"GetContent\",\r\n            content: string,\r\n            fileName: string,\r\n            state?: IModelSate,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n            ID?: ObjectID,\r\n        },\r\n        GetContentResponse: {\r\n            type: \"GetContentResponse\",\r\n            content: string,\r\n            fileName: string,\r\n            state?: IModelSate,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n        },\r\n        SetContent: {\r\n            type: \"SetContent\",\r\n            content: string,\r\n            fileName: string,\r\n            state?: IModelSate,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n            ID?: ObjectID,\r\n        },\r\n        SetContentResponse: {\r\n            type: \"SetContentResponse\",\r\n            content: string,\r\n            fileName: string,\r\n            state?: IModelSate,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n        },\r\n        ContentChanged: {\r\n            type: \"ContentChanged\",\r\n            content: string,\r\n            fileName: string,\r\n            state?: IModelSate,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n            ID?: ObjectID,\r\n            initiator?: string,\r\n        },\r\n        SetBpmnContent: {\r\n            type: \"SetBpmnContent\",\r\n            content: string,\r\n            fileName: string,\r\n            state?: IModelSate,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n            ID?: ObjectID,\r\n            initiator?: string,\r\n        },\r\n        GetBpmnProcessVars: {\r\n            type: \"GetBpmnProcessVars\",\r\n            moduleName: string,\r\n            fileName: string,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n            ID?: ObjectID,\r\n            initiator?: string,\r\n        },\r\n        GetBpmnProcessVarsResponse: {\r\n            type: \"GetBpmnProcessVarsResponse\",\r\n            moduleName: string,\r\n            fileName: string,\r\n            ownerType?: ModelType,\r\n            ownerItem?: ObjectID,\r\n            ID?: ObjectID,\r\n            initiator?: string,\r\n            variables: Array<{\r\n                variableType: string,    // \"camunda:In\"  or  \"camunda:Out\"  or  \"camunda:InOut\"  ...\r\n                name: string    // \"createCreditApplicationConfirmPage.qjson\"\r\n            }>\r\n        },\r\n    },\r\n    EntityDesigner: {\r\n        getModel: {\r\n            type: \"getModel\";\r\n        };\r\n        getModelResponse: {\r\n            type: \"getModelResponse\";\r\n            state?: IModelSate;\r\n            content: string;\r\n        };\r\n        setModel: {\r\n            type: \"setModel\";\r\n            content: string,\r\n            state?: IModelSate,\r\n        };\r\n        setModelResponse: {\r\n            type: \"setModelResponse\";\r\n        };\r\n        changeCheckOutStatus: {\r\n            type: \"changeCheckOutStatus\",\r\n            checkedOut: boolean;\r\n        };\r\n        showNotification: {\r\n            type: \"showNotification\";\r\n            notificationOptions: {\r\n                type: \"warning\" | \"error\" | \"success\" | \"info\";\r\n                text: string;\r\n            }\r\n        };\r\n        IAmReady: {\r\n            type: \"IAmReady\";\r\n        };\r\n        IAmReadyResponse: {\r\n            type: \"IAmReadyResponse\";\r\n        };\r\n        modifiedRequest: {\r\n            type: \"modifiedRequest\";\r\n        };\r\n        modifiedAuthToken: {\r\n            type: \"modifiedAuthToken\";\r\n            token: string;\r\n        }\r\n    },\r\n    LivePreview: {\r\n        getLPID: {\r\n            type: \"getLPID\";\r\n        };\r\n        getLPIDResponse: {\r\n            type: \"getLPIDResponse\";\r\n            ID: string;\r\n        };\r\n        getLPPlateauUIOptions: {\r\n            type: \"getLPPlateauUIOptions\";\r\n        };\r\n        getLPPlateauUIOptionsResponse: {\r\n            type: \"getLPPlateauUIOptionsResponse\";\r\n            getQJsonUrlPrefix: string;\r\n            PlateauUIOptions: {\r\n                corsEnabled: boolean;\r\n                settings: ISettings;\r\n            };\r\n        };\r\n    }\r\n}\r\n\r\nexport class PlateauMessaging {\r\n    public static CreatePlateauMessaging(targetWindow: Window) {\r\n        const mes = new FrameCommunicator<PModules>(targetWindow);\r\n        return mes;\r\n    }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"websdk:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"websdk\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunkwebsdk\"] = this[\"webpackChunkwebsdk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","import { IRenderer } from \"../../common/shrimp/interfaces/RenderingInterfaces/IRenderer\";\nimport { IWebSDK, IWebSDKSettings } from \"../../common/shrimp/interfaces/quick/IWebSDK\";\nimport { IContainerServices } from \"../../common/shrimp/interfaces/quick/IContainerServices\";\nimport { IDomElement } from \"../../common/shrimp/interfaces/RenderingInterfaces/IDomElement\";\nimport { Legacy } from \"./build/legacy\";\nimport { importScript, importModule, importModuleBody } from \"@stechquick/algae/lib/helpers/importHelper\";\nimport { IRendererConfig } from \"../../common/shrimp/interfaces/RenderingInterfaces/IRendererConfig\";\nimport { IQJSon } from \"../../common/shrimp/interfaces/ComponentInterfaces/IQJson\";\nimport { QJsonExtractHelper } from \"../../common/shrimp/helpers/qjsonParser/QJsonExtractHelper\";\nimport { LazyLoader } from \"../../common/shrimp/helpers/lazyLoader\";\nimport { LivePreviewManager } from \"./src/managers/LivePreviewManager\";\nimport { IRequestData, IPlateauUIObject, IPlateauUIOptions, contentFormat, contentType, ISettingsIAM, ISettings } from \"@stechquick/algae/lib/quick/IPlateauUI\"\n\nclass PlateauUI {\n    private container: WebsdkContainer;\n    private renderer: IRenderer;\n    public mountPoint: HTMLElement;\n\n    constructor(container: WebsdkContainer, renderer: IRenderer, mountPoint: IDomElement) {\n        this.container = container;\n        this.renderer = renderer;\n        this.mountPoint = mountPoint;\n    }\n    open(qjsonPath?: string, args?: Record<string, any>) {\n        this.container.open({ renderer: this.renderer, qjsonPath, args });\n    }\n    show() {\n        this.mountPoint.style.display = \"block\";\n    }\n    hide() {\n        this.mountPoint.style.display = \"none\";\n    }\n    close() {\n        this.renderer.Hibernate();\n    }\n    trigger({ eventName, parameters }: { eventName: string, parameters: Record<string, any> }) {\n        return this.renderer.Trigger(eventName, parameters);\n    }\n}\n\nclass WebsdkContainer {\n    private enviromentInfo: string = \"sdk\";\n    private settingsWeb?: ISettings; // combined and unprocessed form of settings for web. \n\n    private SDKInstance?: IWebSDK;\n    private SDKSettings?: IWebSDKSettings; // settingsWeb[\"settings\"]\n    private SDKConfiguration?: IRendererConfig;\n    //LIMBO: webSDKSettings & webSDKConfiguration, if they could exist while in the same object..\n\n\n    public mountPoint?: IDomElement;\n    private PlateauIAM: any = undefined;\n    private PlateauUIOptions: IPlateauUIOptions = {\n        corsEnabled: true,\n        iam: \"./settings/settings_iam.js\",\n        settings: \"./settings/settings_web.js\"\n    }\n    lpManager?: LivePreviewManager;\n\n    constructor() { }\n\n    public async init({ PlateauUIOptions, environmentInfo = \"sdk\" }: { PlateauUIOptions?: IPlateauUIOptions, environmentInfo?: string }) {\n        const self = this;\n        self.enviromentInfo = environmentInfo;\n        var LPPlateauUIOptions = await self.configureLivePreview();\n        self.PlateauUIOptions = LPPlateauUIOptions ? LPPlateauUIOptions : (PlateauUIOptions ?? this.PlateauUIOptions);\n\n\n\n\n        if (!self.settingsWeb) {\n            if(self.lpManager){\n                self.settingsWeb = self.PlateauUIOptions.settings as ISettings;\n\n                self.settingsWeb.settings = self.settingsWeb.settings || { value: {}, type: \"object\" };\n\n                if (self.settingsWeb.localProxy && self.settingsWeb.localProxy.type == \"object\") {\n                    self.settingsWeb.settings.value.settingsProxyYaml = self.settingsWeb.settings.value.settingsProxyYaml || {};\n                    self.settingsWeb.settings.value.settingsProxyYaml[\"localProxy\"] = self.settingsWeb.localProxy.value;\n                }\n            }\n            else {\n                var settingsWeb: ISettings = await self.LoadJS<any>(self.PlateauUIOptions.settings as string, \"plateauUISettings\", \"*\");\n                if (!settingsWeb) {\n                    throw \"please set following: PlateauUIOptions['settings']\"\n                }\n                self.settingsWeb = settingsWeb;\n            }\n            self.SDKSettings = Legacy.migrateLegacySettings(self.settingsWeb.settings.value);\n        }\n\n\n        if (self.PlateauUIOptions.iam) {\n            var settingsIAM: ISettingsIAM | undefined = await self.LoadJS<ISettingsIAM>(self.PlateauUIOptions.iam, \"plateauUIIAMOptions\", \"*\", false);\n            if (settingsIAM && settingsIAM.iam?.active) {\n                self.PlateauIAM = new (await import(\"./src/managers/PlateauIAM\")).PlateauIAM();\n                self.PlateauIAM.setOptions(settingsIAM.iam.options)\n                self.PlateauIAM.settingsIAM = settingsIAM\n                // rootqjson kontrolu\n                let securePage = true\n                let unsecurePages = self.PlateauIAM.settingsIAM?.iam?.unsecurePages\n                if(unsecurePages) {\n                    for(let i=0;i<unsecurePages.length;i++) {\n\n                        let queryString = Legacy.fixQueryString();\n                        \n                        if(unsecurePages[i] === queryString)//self.settingsWeb.settings.value.rootqjson)\n                            securePage = false\n                    }\n                }\n\n                if(securePage) {\n                    await self.PlateauIAM.login();\n                    if (!self.PlateauIAM.isAuthenticated()) {\n                        throw Error(\"Authentication: Must logon\");\n                    }    \n                }\n\n            }\n\n        }\n\n        \n\n        if (!self.SDKInstance) {\n            var containerServices: any\n            if (self.settingsWeb?.containerServices) {\n                containerServices = await self.LoadObject<IContainerServices>(self.settingsWeb.containerServices, \"plateauUIContainerServices\", \"*\", false);\n                containerServices = Legacy.containerServicesModifications(self, containerServices);\n            }\n            self.SDKInstance = new (await import(\"./src/WebSDK\")).WebSDK(self.SDKSettings!, containerServices, { environmentName: environmentInfo });\n            if (self.lpManager) {\n                self.lpManager.setExternalQJsonRetriever(self.SDKInstance!);\n            }\n            if (window.location.search) document.cookie = \"queryParams=\" + window.location.search + \";path=/;\"\n        }\n\n        const rendererConfig = await self.setSDKConfig();\n        self.SDKConfiguration = rendererConfig;\n\n    }\n\n    public async createRenderer({ mountPoint }: { mountPoint: HTMLElement }) {\n        const self = this;\n        const renderer = self.SDKInstance!.CreateRenderer({ mountPoint, config: self.SDKConfiguration });\n        await self.setSettingsQJsons({ renderer });\n        var plateauUI = new PlateauUI(self, renderer, mountPoint);\n        return plateauUI;\n    }\n\n\n    public async open({ renderer, qjsonPath, args }: { renderer: IRenderer, qjsonPath?: string, args?: Record<string, any> }) {\n        const self = this;\n        //qui -> q=? (queryString) , qjsonPath=? (queryString) , rootQjson (settings.yaml), \n        //sdk -> qjsonPath (parameter), rootQjson (settings.yaml) \n        let renderOptions;\n        let queryString = Legacy.fixQueryString();\n        if (this.enviromentInfo == \"sdk\" && qjsonPath) {\n            qjsonPath = Legacy.fixLegacyPathFormat(qjsonPath);\n            renderOptions={ pjsonPath: qjsonPath, storeItems: args };\n        }\n        else if (this.enviromentInfo == \"qui\" && queryString) {\n            renderOptions = { pjsonPath: queryString, storeItems: args };\n        }\n        else if (!renderOptions && self.settingsWeb?.rootqjson) {\n            var qjsonContent = await self.LoadObject<any>(self.settingsWeb?.rootqjson, \"\");\n            const pageName = self.settingsWeb.settings.value.rootqjson;\n            renderOptions={ pjsonContent: qjsonContent, pageName, storeItems: args };\n        } else {\n            throw Error(\"please set following: PlateauUIOptions.rootqjson\")\n        }\n        renderer.Render(renderOptions);\n        const ux = this.SDKInstance?.getUXManager();\n        ux?.setTheme(\"default\");\n    }\n\n    private async setSDKConfig() {\n        var self = this;\n        var plateauUIComponentOptions: any;\n        if (self.settingsWeb?.componentList) {\n            plateauUIComponentOptions = self.LoadObject<any>(self.settingsWeb.componentList, \"plateauUIComponentOptions\", \"*\", false);\n        }\n        var plateauUIGlobalLRQjson: any;\n        if (self.settingsWeb?.globalLocalization) {\n            plateauUIGlobalLRQjson = self.LoadObject<any>(self.settingsWeb?.globalLocalization, \"\", \"*\", false); //windowLibraryName\n            self.LoadQjson(self.settingsWeb?.globalLocalization);\n        }\n\n        var rendererConfig: IRendererConfig = {};\n        return Promise.all([plateauUIComponentOptions, plateauUIGlobalLRQjson]).then(([plateauUIComponentOptions, plateauUIGlobalLRQjson]) => {\n            if (plateauUIComponentOptions) {\n                rendererConfig.SiteSettings = { compSettings: plateauUIComponentOptions }\n            }\n            if (plateauUIGlobalLRQjson) {\n                rendererConfig.GlobalLRDict = plateauUIGlobalLRQjson.clrids;\n            }\n            if (self.SDKSettings?.rootLangCode) {\n                rendererConfig.LRType = self.SDKSettings?.rootLangCode;\n            }\n            return rendererConfig;\n        });\n    }\n\n    private async setSettingsQJsons({ renderer }: { renderer: IRenderer }) {\n        var self = this;\n        if (self.settingsWeb?.pipeline) {\n            const qjson = await self.LoadObject<any>(self.settingsWeb?.pipeline, \"\", \"*\", false); //windowLibraryName\n            if (qjson) {\n                try {\n                    await renderer.settingsQJsons.SetPipelineQjson(qjson);\n                } catch (err) {\n                }\n            }\n        }\n        if (self.settingsWeb?.alert) {\n            const qjson = await self.LoadObject<any>(self.settingsWeb?.alert, \"\", \"*\", false); //windowLibraryName ?\n            if (qjson) {\n                try {\n                    await renderer.settingsQJsons.SetAlertQjson(qjson);\n                } catch (err) {\n                }\n            }\n        }\n        if (self.settingsWeb?.loading) {\n            const qjson = await self.LoadObject<any>(self.settingsWeb?.loading, \"\", \"*\", false); //windowLibraryName\n            if (qjson) {\n                try {\n                    await renderer.settingsQJsons.SetLoadingQjson(qjson);\n                } catch (err) {\n                }\n            }\n        }\n\n        if (self.SDKSettings?.domainModuleList) {\n            await self.SDKInstance?.LoadModuleCompLists(self.SDKSettings.domainModuleList).catch(ev => {\n                console.log(ev);\n            });\n        }\n    }\n\n    private async LoadObject<T>(data: IPlateauUIObject, windowLibraryName: string, importField?: string | \"*\", required = true) {\n        const self = this;\n        if(!data){\n            return;\n        }\n        if (data.format == \"qjson\") {\n            return await self.LoadQjson(data);\n        }\n        if (data.format == \"lottie\") {\n            throw new Error(\"Not implemented\");\n        }\n        if (data.type == \"path\") {\n            return await self.LoadJS(data.value, windowLibraryName, importField, required)\n        }\n        if (data.type == \"object\") {\n            return data.value;\n        }\n        if (data.type == \"js\") {\n            return await importModuleBody<T>(data.value, () => { }, importField);\n        }\n    }\n\n    private async LoadJS<T>(requestData: string | IRequestData, windowLibraryName: string, importField?: string | \"*\", required = true) {\n        const self = this;\n        try {\n            if (this.PlateauUIOptions.corsEnabled && typeof requestData == \"string\") {\n                return await importScript<T>(requestData, windowLibraryName, importField);\n            }\n            else {\n                let requestObject = typeof requestData == \"string\" ? requestData : new Request(requestData.url, { method: 'GET', body: JSON.stringify(requestData.body), headers: requestData.headers });\n                return await importModule<T>(requestObject, () => { }, importField);\n            }\n        } catch (error) {\n            if (!required) {\n                return undefined;\n            }\n            throw new Error(\"couldn't load \" + JSON.stringify(requestData));\n        }\n\n    }\n\n    private async LoadQjson(plateauUIObject: { value: any, type: contentType }) {\n        let qJsonString = \"\";\n        if (plateauUIObject.type == \"path\") {\n            var qjsonPath = Legacy.fixLegacyPathFormat(plateauUIObject.value)\n            qJsonString = (await LazyLoader.FetchModuleBody(qjsonPath)).body; //TODO:newWebSDKBuild change to load from importHelper\n        }\n        if (plateauUIObject.type == \"js\") {\n            qJsonString = plateauUIObject.value;\n        }\n        if (!qJsonString) {\n            return undefined;\n        }\n        const qJsonExtracted = <IQJSon>QJsonExtractHelper.qJsonExtractor(qJsonString);\n        if (!qJsonExtracted) {\n            throw new Error(\"qJsonExtracted is undefined\");\n        }\n        return qJsonExtracted;\n    }\n    private async configureLivePreview() {\n        var self = this;\n        var lpManager = new LivePreviewManager(parent);\n\n        var resp = await lpManager.isItLivePreview();\n        if (!resp) { return; }\n        self.lpManager = lpManager;\n        var settingsResponse = await lpManager.getLivePreviewSettings();\n        if (!settingsResponse) { return; }\n        return settingsResponse;\n    }\n}\n\nvar websdkContainerInstance: WebsdkContainer | undefined;\n\nasync function init(PlateauUIOptions?: IPlateauUIOptions, environmentInfo?: string) {\n    if (websdkContainerInstance) { return; }\n    websdkContainerInstance = new WebsdkContainer();\n    await websdkContainerInstance.init({ PlateauUIOptions, environmentInfo });\n    return websdkContainerInstance;\n}\n\nfunction createRenderer({ mountPoint }: { mountPoint: IDomElement }) {\n    if (!websdkContainerInstance) {\n        throw \"websdk initiation went wrong.\"\n    }\n    const plateauUI = websdkContainerInstance.createRenderer({ mountPoint });\n    return plateauUI;\n\n}\n\nexport { init, createRenderer };"],"names":[],"sourceRoot":""}